<!-- Main content -->
<form [formGroup]="formData" (ngSubmit)="onSubmit()">
    <!-- 1st row -->
    <div class="row">
        <div class="col-md-12">
            <div class="card card-outline card-primary">
                <!-- /.card-header -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="card-body">

                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <p for="inputName" class="h6">Case Number <b class="text-danger">*</b></p>
                                            <div class="input-group input-group-sm">
                                                <input type="text" class="form-control" formControlName="caseNo"
                                                    placeholder="ex. FAIS-000-XXXX" />
                                                <!-- <control-messages [control]="incidentData.get('caseNo')"></control-messages> -->
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <p for="" class="h6">Status</p>
                                            <div class="input-group input-group-sm">
                                                <select class="form-control custom-select" formControlName="status">
                                                    <option>ACCOUNTED IN CUSTODY</option>
                                                    <option>DEPOSITED TO COURT/PROSECUTOR</option>
                                                    <option>WITHDRAWN BY REQUESTING PARTY</option>
                                                    <option>TURNED-OVER TO FEO</option>
                                                    <option>TURNED-OVER TO LSS</option>
                                                </select>

                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <p for="inputName" class="h6">Remarks</p>
                                            <div class="input-group input-group-sm">
                                                <input type="text" class="form-control" formControlName="remarks" />
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <p for="inputName" class="h6">Requesting Party <b class="text-danger">*</b></p>
                                                <div class="input-group input-group-sm">
                                                    <input type="text" class="form-control"
                                                        formControlName="requestingParty" />
                                                    <span class="input-group-append">
                                                        <div class="input-group input-group-sm">
                                                            <button type="button" class="btn btn-info btn-flat"
                                                                data-toggle="modal"
                                                                data-target="#modal-requesting-parties">Select...</button>
                                                        </div>
                                                    </span>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.card-body -->
            </div>
        </div>

    </div>


    <!-- 2nd row -->
    <div class="row">

        <!-- left upper pane -->
        <div class="col-md-6">
            <div class="card card-outline card-primary">
                <div class="card-header">
                    <h3 class="card-title">Type of Evidence</h3>
                    <div class="card-tools"> </div>
                </div>
                <!-- /.card-header -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="card-body">



                            <div class="form-group">
                                <p for="inputDescription" class="h6">Firearm <b class="text-danger">*</b></p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="firearmName">
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputDescription" class="h6">Cartridge <b class="text-danger">*</b></p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="cartridge">
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputDescription" class="h6">FCC</p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="fcc">
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputDescription" class="h6">FB</p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="fb">
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputDescription" class="h6">Accessories</p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="accessories">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- /.card-body -->

            </div>
        </div>

        <!-- right upper pane -->
        <div class="col-md-6">
            <div class="card card-outline card-primary">
                <div class="card-header">
                    <h3 class="card-title">Description of Firearm</h3>
                    <div class="card-tools"> </div>
                </div>
                <!-- /.card-header -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="card-body">

                            <div class="form-group">
                                <p for="inputName" class="h6">Caliber/Gauge <b class="text-danger">*</b></p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="fcaliber" />
                                </div>
                            </div>

                            <div class="form-group">
                                <p for="inputName" class="h6">Make <b class="text-danger">*</b></p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="fmake" />
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputName" class="h6">Model <b class="text-danger">*</b></p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="fmodel" />
                                </div>
                            </div>

                            <div class="form-group">
                                <p for="inputName" class="h6">Type <b class="text-danger">*</b></p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="ftype" />
                                    <span class="input-group-append">
                                        <div class="input-group input-group-sm">
                                                <button type="button" class="btn btn-info btn-flat" data-toggle="modal"
                                                    data-target="#modal-handgun-types">Select...</button>
                                        </div>
                                    </span>
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputName" class="h6">Serial Number</p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="fserialNo" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.card-body -->

            </div>
        </div>
    </div>
    <!-- end of first row -->

    <!-- 3rd row -->
    <!-- left lower pane -->
    <div class="row">
        <div class="col-md-6">
            <div class="card card-outline card-success">
                <div class="card-header">
                    <h3 class="card-title">DTPO & Suspect/Victim</h3>
                    <div class="card-tools"> </div>
                </div>
                <!-- /.card-header -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="card-body">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p for="inputName" class="h6">Date <b class="text-danger">*</b></p>
                                        <!-- formGroupName="dtpo" -->
                                        <div *ngIf="isAdd" class="input-group input-group-sm">
                                            <input class="form-control" placeholder="mm/dd/yyyy" name="dp"
                                                [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker"
                                                [ngStyle]="{'backgroundColor': 'white'}" formControlName="incidentDate"
                                                (dateSelect)="onDateSelect($event)" readonly>
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary calendar" (click)="d.toggle()"
                                                    type="button">📅</button>
                                            </div>
                                        </div>
                                        <div *ngIf="!isAdd" class="input-group input-group-sm">
                                            <input type="text" class="form-control"
                                                formControlName="incidentDateEdit" />
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <p for="inputName" class="h6">Time <b class="text-danger">*</b></p>
                                        <div *ngIf="isAdd" class="input-group input-group-sm date" id="timepicker"
                                            data-target-input="nearest">
                                            <input type="time" class="form-control datetimepicker-input"
                                                data-target="#timepicker" formControlName="incidentTime" min="09:00"
                                                max="18:00" required>
                                        </div>

                                        <div *ngIf="!isAdd" class="input-group input-group-sm">
                                            <input type="text" class="form-control"
                                                formControlName="incidentTimeEdit" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputName" class="h6">Place of Occurence</p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="location" />
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputDescription" class="h6">Victim</p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="victimName">
                                    <!-- <span class="input-group-append">
                                        <div class="input-group input-group-sm">
                                                <button type="button" class="btn btn-info btn-flat" data-toggle="modal"
                                                    data-target="#modal-persons">Select...</button>
                                        </div>
                                    </span> -->
                                </div>
                            </div>
                            <div class="form-group">
                                <p for="inputDescription" class="h6">Suspect</p>
                                <div class="input-group input-group-sm">
                                    <input type="text" class="form-control" formControlName="suspectName">
                                    <!-- <span class="input-group-append">
                                        <div class="input-group input-group-sm">
                                                <button type="button" class="btn btn-info btn-flat" data-toggle="modal"
                                                    data-target="#modal-suspects">Select...</button>
                                        </div>
                                    </span> -->
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- /.card-body -->

            </div>
        </div>

    </div>
    <!-- end: left lower pane  -->

    <!-- 4th row -->
    <!-- buttons -->
    <div class="row">
        <div class="col-md-12">
            <div class="mb-3 float-right">
                <button class="btn btn-secondary mr-3" type="button" (click)="clearFields()">Reset</button>

                <button class="btn btn-success pull-right " type="submit" [disabled]="!formData.valid">
                    <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status"
                        aria-hidden="true"></span>
                    <span *ngIf="isLoading" class="sr-only">Loading...</span>
                    {{ isLoading ? 'Saving...' : 'Save' }}
                </button>
                
            </div>
        </div>
    </div>
</form>
<!-- /.content -->

<div class="modal fade" id="modal-handgun-types" style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content ">
            <div class="modal-header bg-info">
                <h6 class="modal-title">Type of Firearm</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <table class="table table-hover" [ngStyle]="{'cursor': 'pointer'}">

                    <tbody>
                        <tr *ngFor="let type of firearmTypes">
                            <td (click)="onTypeSelect(type)" data-dismiss="modal">{{ type }}</td>
                        </tr>
                    </tbody>
        
                </table>
                
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-outline-danger float-right" data-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<app-modal-requesting-parties></app-modal-requesting-parties>